webpackJsonp([24],{"+uAG":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("bOdI"),l=a.n(r),s={data:function(){return{active:0,ruleForm1:{name:"",name1:"",resource:1,desc:"",music:"暂无上传音乐",way:1,wayJF:"",wayJF1:""},rules1:{name:[{required:!0,message:"活动名称不能为空",trigger:"blur"}],name1:[{required:!0,type:"array",message:"开始时间不能为空"}]},ruleForm2:{cishu:"",zongshu:"",desc:""},rules2:{cishu:[{required:!0,message:"抽奖次数不能为空",trigger:"blur"}],zongshu:[{required:!0,message:"抽奖总数不能为空",trigger:"blur"}]},ruleForm3:{days:"",dizhi:"",tishi:"",xuzhi:""},rules3:{days:[{required:!0,message:"兑奖期限不能为空",trigger:"blur"}]},awardKey:0,ruleForm4:[],ruleForm46:[{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""}],ruleForm48:[{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""}],ruleForm41:[{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""},{name0:1,name1:"",name2:"",name3:"",name4:""}],pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},methods:{test:function(){console.log(123),this.active=5},upStep:function(){this.active--},next:function(e){var t=this;this.$refs[e].validate(function(e){e?t.active++:console.log("error submit!!")})},lastStep:function(){for(var e=0;e<this.ruleForm4.length;e++){var t=/^[1-9]\d*$/;if(!this.ruleForm4[e].name1|!this.ruleForm4[e].name2|!this.ruleForm4[e].name3|!this.ruleForm4[e].name4)return this.$message.error("表单不能留空，请填写完整~"),!1;if(!t.test(this.ruleForm4[e].name1))return this.$message.error("奖品数额填写有误，请重新填写~"),!1;if(!t.test(this.ruleForm4[e].name3))return this.$message.error("奖项数量填写有误，请重新填写~"),!1;this.ruleForm4[e].name4=parseFloat(this.ruleForm4[e].name4).toFixed(2),this.submit()}},submit:function(){for(var e=[],t=0;t<this.ruleForm4.length;t++){var a,r=(a={name0:this.ruleForm4[t].name0,name1:this.ruleForm4[t].name1},l()(a,"name1",this.ruleForm4[t].name1),l()(a,"name3",this.ruleForm4[t].name3),l()(a,"name4",this.ruleForm4[t].name4),a);e.push(r)}var s={name1:this.ruleForm1.name,name2:this.ruleForm1.name1,name3:this.ruleForm1.endTime,name4:this.ruleForm1.resource,name5:this.ruleForm1.desc,name15:this.ruleForm1.music,name6:this.ruleForm2.cishu,name7:this.ruleForm2.zongshu,name8:this.ruleForm2.desc,name9:this.ruleForm3.days,name10:this.ruleForm3.dizhi,name11:this.ruleForm3.tishi,name12:this.ruleForm3.xuzhi,name13:this.awardKey,name14:e};console.log(s,123)},setting:function(){0==this.awardKey?this.ruleForm4=this.ruleForm46:1==this.awardKey?this.ruleForm4=this.ruleForm48:this.ruleForm4=this.ruleForm41},backUrl:function(){window.history.go(-1)}},mounted:function(){this.setting()}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"hd-common turnPlate"},[a("el-breadcrumb",{staticClass:"gt-crumbs",attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("互动游戏")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/bigTurnplate/index"}}},[e._v("大转盘")]),e._v(" "),a("el-breadcrumb-item",[e._v("创建活动")])],1),e._v(" "),a("div",{staticClass:"gt-content"},[a("el-steps",{staticClass:"bbtom pb20",attrs:{active:e.active,center:!0,"align-center":!0}},[a("el-step",{attrs:{title:"基础设置"}}),e._v(" "),a("el-step",{attrs:{title:"规则设置"}}),e._v(" "),a("el-step",{attrs:{title:"兑奖设置"}}),e._v(" "),a("el-step",{attrs:{title:"奖项设置"}}),e._v(" "),a("el-step",{attrs:{title:"新建完成"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==this.active,expression:"this.active==0"}],staticClass:"mt40"},[a("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules1,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"活动名称：",prop:"name"}},[a("el-input",{staticClass:"w_demo",model:{value:e.ruleForm1.name,callback:function(t){e.$set(e.ruleForm1,"name",t)},expression:"ruleForm1.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏时间：",prop:"name1"}},[a("el-date-picker",{staticClass:"w_demo",attrs:{"picker-options":e.pickerOptions,type:"datetimerange",placeholder:"选择时间范围"},model:{value:e.ruleForm1.name1,callback:function(t){e.$set(e.ruleForm1,"name1",t)},expression:"ruleForm1.name1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束说明：",prop:"desc"}},[a("el-input",{staticClass:"w_demo",attrs:{type:"textarea",rows:3,placeholder:"请输入活动结束说明"},model:{value:e.ruleForm1.desc,callback:function(t){e.$set(e.ruleForm1,"desc",t)},expression:"ruleForm1.desc"}}),e._v(" "),a("div",{staticClass:"el-upload__tip grey",staticStyle:{"line-height":"25px"}},[e._v("可详细填写活动结束说明，让粉丝了解此次活动已结束。如：秦代的粉丝们，\r\n                        "),a("br"),e._v("此次活动已结束，感谢你们的关注与参与，敬请期待下次活动的开展。\r\n                    ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"参与人员："}},[a("el-radio-group",{model:{value:e.ruleForm1.resource,callback:function(t){e.$set(e.ruleForm1,"resource",t)},expression:"ruleForm1.resource"}},[a("el-radio",{attrs:{label:1}},[e._v("所有粉丝")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("仅会员(持有会员卡的粉丝)")])],1)],1),e._v(" "),2==e.ruleForm1.resource?a("div",{staticClass:"pd20 bw bb ml120 mb20"},[a("el-form-item",{attrs:{label:"参与方式："}},[a("el-radio-group",{model:{value:e.ruleForm1.way,callback:function(t){e.$set(e.ruleForm1,"way",t)},expression:"ruleForm1.way"}},[a("el-radio",{attrs:{label:1}},[e._v("所有会员不需要积分")]),a("br"),a("br"),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("会员卡积分满"),a("el-input",{staticClass:"w100_demo ml10 mt20 mr10",attrs:{disabled:"2"!=e.ruleForm1.way},model:{value:e.ruleForm1.wayJF,callback:function(t){e.$set(e.ruleForm1,"wayJF",t)},expression:"ruleForm1.wayJF"}}),e._v("即可参加（抽奖不扣除积分）")],1),a("br"),a("br"),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("每次抽奖扣除"),a("el-input",{staticClass:"w100_demo ml10 mt20 mr10",attrs:{disabled:"3"!=e.ruleForm1.way},model:{value:e.ruleForm1.wayJF,callback:function(t){e.$set(e.ruleForm1,"wayJF",t)},expression:"ruleForm1.wayJF"}}),e._v("积分")],1),a("br"),a("br"),e._v(" "),a("el-radio",{attrs:{label:4}},[e._v("会员卡积分满"),a("el-input",{staticClass:"w100_demo ml10 mt20 mr10",attrs:{disabled:"4"!=e.ruleForm1.way},model:{value:e.ruleForm1.wayJF,callback:function(t){e.$set(e.ruleForm1,"wayJF",t)},expression:"ruleForm1.wayJF"}}),e._v("分，\r\n                                                 每次抽奖扣除"),a("el-input",{staticClass:"w100_demo ml10 mt20 mr10",attrs:{disabled:"4"!=e.ruleForm1.way},model:{value:e.ruleForm1.wayJF1,callback:function(t){e.$set(e.ruleForm1,"wayJF1",t)},expression:"ruleForm1.wayJF1"}}),e._v("分")],1)],1)],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"背景音乐："}},[a("div",{staticClass:"pd20 bb bw"},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("span",{staticClass:"el-upload__tip grey ml20"},[e._v(e._s(e.ruleForm1.music))]),e._v(" "),a("div",{staticClass:"el-upload__tip grey",staticStyle:{"line-height":"25px"}},[e._v("\r\n                            音频文件的格式为mp3、wma、wav,大小不超过3M\r\n                        ")])],1)])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==this.active,expression:"this.active==1"}],staticClass:"mt40"},[a("el-form",{ref:"ruleForm2",staticClass:"mt40 demo-ruleForm",attrs:{model:e.ruleForm2,rules:e.rules2,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"抽奖次数：",prop:"cishu"}},[a("el-input",{staticClass:"w_demo",attrs:{type:"number",placeholder:"请输入每人/每天抽奖次数"},model:{value:e.ruleForm2.cishu,callback:function(t){e.$set(e.ruleForm2,"cishu",t)},expression:"ruleForm2.cishu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"抽奖总数：",prop:"zongshu"}},[a("el-input",{staticClass:"w_demo",attrs:{type:"number",placeholder:"请输入每人抽奖总数"},model:{value:e.ruleForm2.zongshu,callback:function(t){e.$set(e.ruleForm2,"zongshu",t)},expression:"ruleForm2.zongshu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束规则："}},[a("el-input",{staticClass:"w_demo",attrs:{type:"textarea",rows:5,placeholder:"请输入活动规则"},model:{value:e.ruleForm2.desc,callback:function(t){e.$set(e.ruleForm2,"desc",t)},expression:"ruleForm2.desc"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==this.active,expression:"this.active==2"}],staticClass:"mt40"},[a("el-form",{ref:"ruleForm3",staticClass:"mt40 demo-ruleForm",attrs:{model:e.ruleForm3,rules:e.rules3,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"兑奖期限：",prop:"days"}},[a("el-input",{staticClass:"w_demo mr10",attrs:{type:"number",placeholder:"请输入兑奖期限"},model:{value:e.ruleForm3.days,callback:function(t){e.$set(e.ruleForm3,"days",t)},expression:"ruleForm3.days"}}),e._v("天\r\n                    "),a("span",{staticClass:"el-upload__tip grey"},[e._v("\r\n                        从活动结束后开始计算\r\n                    ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"兑奖地址："}},[a("el-input",{staticClass:"w_demo",attrs:{type:"textarea",rows:5,placeholder:"请输入兑奖地址"},model:{value:e.ruleForm3.dizhi,callback:function(t){e.$set(e.ruleForm3,"dizhi",t)},expression:"ruleForm3.dizhi"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"兑奖提示："}},[a("el-input",{staticClass:"w_demo",attrs:{type:"textarea",rows:5,placeholder:"如：兑换奖品请阅读活动说明或联系相关工作人员确认兑换！兑奖请联系我们，电话0752-2366888"},model:{value:e.ruleForm3.tishi,callback:function(t){e.$set(e.ruleForm3,"tishi",t)},expression:"ruleForm3.tishi"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中奖须知："}},[a("el-input",{staticClass:"w_demo",attrs:{type:"textarea",rows:5,placeholder:"如：1、如果是实物的奖品，要填写中奖人的手机号码，如不是现场兑奖的还要填写速递地址。"},model:{value:e.ruleForm3.xuzhi,callback:function(t){e.$set(e.ruleForm3,"xuzhi",t)},expression:"ruleForm3.xuzhi"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==this.active,expression:"this.active==3"}],staticClass:"mt40"},[e._m(0),e._v(" "),a("div",{staticClass:"mt20 mb20"},[e._v("\r\n                奖项数量：\r\n                "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){e.setting()}},model:{value:e.awardKey,callback:function(t){e.awardKey=t},expression:"awardKey"}},[a("el-option",{attrs:{label:"六个奖项",value:0}}),e._v(" "),a("el-option",{attrs:{label:"八个奖项",value:1}}),e._v(" "),a("el-option",{attrs:{label:"十个奖项",value:2}})],1),e._v(" "),a("span",{staticClass:"el-upload__tip grey"},[e._v("\r\n                    奖项个数对应着转盘上的奖项区域数\r\n                ")])],1),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:e.ruleForm4,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"奖品类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.row.name0,callback:function(a){e.$set(t.row,"name0",a)},expression:"scope.row.name0"}},[a("el-option",{attrs:{label:"粉币",value:1}}),e._v(" "),a("el-option",{attrs:{label:"手机流量",value:2}}),e._v(" "),a("el-option",{attrs:{label:"手机话费",value:3}}),e._v(" "),a("el-option",{attrs:{label:"实体物品",value:4}}),e._v(" "),a("el-option",{attrs:{label:"谢谢参与",value:5}}),e._v(" "),a("el-option",{attrs:{label:"积分",value:6}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"奖品数额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"w20_demo",attrs:{type:"number",placeholder:"数值应大于0"},model:{value:t.row.name1,callback:function(a){e.$set(t.row,"name1",a)},expression:"scope.row.name1"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"奖项名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"w20_demo",attrs:{placeholder:"请输入奖项名称"},model:{value:t.row.name2,callback:function(a){e.$set(t.row,"name2",a)},expression:"scope.row.name2"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"奖项数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"w20_demo",attrs:{type:"number",placeholder:"数值应大于0"},model:{value:t.row.name3,callback:function(a){e.$set(t.row,"name3",a)},expression:"scope.row.name3"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"中奖概率(%)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"w20_demo",attrs:{placeholder:"0-100且保留两位小数"},model:{value:t.row.name4,callback:function(a){e.$set(t.row,"name4",a)},expression:"scope.row.name4"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"gt-button-normal blue",on:{click:function(a){e.test(t.row.id)}}},[e._v("指定中奖人")])]}}])})],1)],1),e._v(" "),5==e.active?a("div",{staticClass:"gt-content complete"},[a("div",{staticClass:"addOk"},[a("div",{staticClass:"el-icon-circle-check green",staticStyle:{"font-size":"40px"}}),e._v(" "),a("div",{staticClass:"complete-info"},[e._v("活动添加成功")]),e._v(" "),a("el-button",{staticClass:"mt80",attrs:{type:"primary"},on:{click:function(t){e.backUrl()}}},[e._v("返回活动列表")])],1)]):e._e(),e._v(" "),a("div",{staticClass:"h80"}),e._v(" "),5!=this.active?a("div",{staticClass:"btnRow"},[0!=this.active?a("el-button",{on:{click:function(t){e.upStep()}}},[e._v("上一步")]):e._e(),e._v(" "),0==this.active?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm1")}}},[e._v("下一步1")]):e._e(),e._v(" "),1==this.active?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm2")}}},[e._v("下一步2")]):e._e(),e._v(" "),2==this.active?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm3")}}},[e._v("下一步3")]):e._e(),e._v(" "),3==this.active?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.lastStep()}}},[e._v("保存")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("打印")])],1):e._e()],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"gt-gray-region",staticStyle:{color:"#666","line-height":"20px"}},[t("p",[this._v("奖品数额：奖品的数量或内容；奖项数量：该奖品的可领取次数；中奖概率：每种奖项在转盘中的中奖概率")]),this._v(" "),t("p",[this._v("如：奖品类型：粉币；奖品数额：2；奖项名称：粉币；奖项数量：3；中奖概率：12")]),this._v(" "),t("p",[this._v("此次游戏活动设置了六个奖项：其中一个奖项为粉币(奖项名称)，该奖项出现3次(中奖数量)，中了该奖项会得到2个(奖品数额)粉币（奖品类型）。")]),this._v(" "),t("p",[this._v("当奖品为实物时，请上传实物图片，实物图片建议尺寸1160px*64px")])])}]};var m=a("VU/8")(s,n,!1,function(e){a("p5Kz")},null,null);t.default=m.exports},p5Kz:function(e,t){}});
webpackJsonp([98],{"0wGf":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("bOdI"),s=r.n(a),l={data:function(){return{active:1,keyWord:"",dialogFans:!1,key:0,ruleForm1:{name:"",name1:"",desc:""},rules1:{name:[{required:!0,message:"商户名称不能为空",trigger:"blur"}],name1:[{required:!0,message:"活动名称不能为空",trigger:"blur"}]},ruleForm2:{name21:"",name22:"",name23:""},rules2:{name21:[{required:!0,type:"array",message:"请选择指定粉丝",trigger:"blur"}],name22:[{required:!0,type:"number",validator:function(e,t,r){var a=window.parseInt(t);a?a<3||a>20?r(new Error("发放总人数设置在3-20人之间，请重填")):r():r(new Error("发放总人数不能为空"))},trigger:"blur,change"}],name23:[{required:!0,message:"请选择红包类型",trigger:"blur"}],name24:[{required:!0,type:"number",validator:function(e,t,r){var a=window.parseInt(t);a?a<1||a>200?r(new Error("红包金额介于1-200之间，请重填")):r():r(new Error("红包金额不能为空"))},trigger:"blur,change"}],name25:[{required:!0,message:"红包祝福语不能为空",trigger:"blur"}]}}},methods:{shoeDialogFans:function(e){this.dialogFans=!0,console.log(this.key)},getFansData:function(e){console.log(e,"子组件的信息"),this.dialogFans=!1},handleCurrentChange:function(){console.log(123)},test:function(){console.log(123)},upStep:function(){this.active--},next:function(e){var t=this;this.$refs[e].validate(function(e){e?t.active++:console.log("error submit!!")})},lastStep:function(){for(var e=0;e<this.ruleForm4.length;e++){var t=/^[1-9]\d*$/;if(!this.ruleForm4[e].name1|!this.ruleForm4[e].name2|!this.ruleForm4[e].name3|!this.ruleForm4[e].name4)return this.$message.error("表单不能留空，请填写完整~"),!1;if(!t.test(this.ruleForm4[e].name1))return this.$message.error("奖品数额填写有误，请重新填写~"),!1;if(!t.test(this.ruleForm4[e].name3))return this.$message.error("奖项数量填写有误，请重新填写~"),!1;this.ruleForm4[e].name4=parseFloat(this.ruleForm4[e].name4).toFixed(2),this.submit()}},submit:function(){for(var e=[],t=0;t<this.ruleForm4.length;t++){var r,a=(r={name0:this.ruleForm4[t].name0,name1:this.ruleForm4[t].name1},s()(r,"name1",this.ruleForm4[t].name1),s()(r,"name3",this.ruleForm4[t].name3),s()(r,"name4",this.ruleForm4[t].name4),r);e.push(a)}var l={name1:this.ruleForm1.name,name2:this.ruleForm1.name1,name3:this.ruleForm1.endTime,name4:this.ruleForm1.resource,name5:this.ruleForm1.desc,name15:this.ruleForm1.music,name6:this.ruleForm2.cishu,name7:this.ruleForm2.zongshu,name8:this.ruleForm2.desc,name9:this.ruleForm3.days,name10:this.ruleForm3.dizhi,name11:this.ruleForm3.tishi,name12:this.ruleForm3.xuzhi,name13:this.awardKey,name14:e};console.log(l,123)},backUrl:function(){window.history.go(-1)}},mounted:function(){},filters:{sexStatus:function(e){return 0==e?e="女":1==e&&(e="男"),e}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"hd-common redpack"},[r("el-breadcrumb",{staticClass:"gt-crumbs",attrs:{separator:"/"}},[r("el-breadcrumb-item",[e._v("互动游戏")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/redpachetFly/index"}}},[e._v("让红包飞")]),e._v(" "),r("el-breadcrumb-item",[e._v("创建活动")])],1),e._v(" "),r("div",{staticClass:"gt-content"},[r("el-steps",{staticClass:"bbtom pb20",attrs:{active:e.active,center:!0,"align-center":!0}},[r("el-step",{attrs:{title:"基础设置"}}),e._v(" "),r("el-step",{attrs:{title:"规则设置"}}),e._v(" "),r("el-step",{attrs:{title:"新建完成"}})],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:0==this.active,expression:"this.active==0"}],staticClass:"mt40"},[r("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules1,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"商户名称：",prop:"name"}},[r("el-input",{staticClass:"w_demo",model:{value:e.ruleForm1.name,callback:function(t){e.$set(e.ruleForm1,"name",t)},expression:"ruleForm1.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"活动名称：",prop:"name1"}},[r("el-date-picker",{staticClass:"w_demo",attrs:{placeholder:"请输入活动名称"},model:{value:e.ruleForm1.name1,callback:function(t){e.$set(e.ruleForm1,"name1",t)},expression:"ruleForm1.name1"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"活动说明：",prop:"desc"}},[r("el-input",{staticClass:"w_demo",attrs:{type:"textarea",rows:3,placeholder:"请输入活动说明"},model:{value:e.ruleForm1.desc,callback:function(t){e.$set(e.ruleForm1,"desc",t)},expression:"ruleForm1.desc"}}),e._v(" "),r("span",{staticClass:"el-upload__tip grey"},[e._v("\r\n                        描述活动详情，能让粉丝了解此次活动\r\n                    ")])],1)],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:1==this.active,expression:"this.active==1"}],staticClass:"mt40"},[e._m(0),e._v(" "),r("el-form",{ref:"ruleForm2",staticClass:"mt40 demo-ruleForm",attrs:{model:e.ruleForm2,rules:e.rules2,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"指定粉丝：",prop:"name21"}},[r("el-input",{staticClass:"w_demo",attrs:{placeholder:"请选择粉丝"},model:{value:e.ruleForm2.name21,callback:function(t){e.$set(e.ruleForm2,"name21",t)},expression:"ruleForm2.name21"}}),e._v(" "),r("span",{staticClass:"ml10"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.shoeDialogFans()}}},[e._v("选择粉丝")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"发放总人数：",prop:"name22"}},[r("el-input",{staticClass:"w_demo mr10",attrs:{type:"number",placeholder:"发放总人数设置在3-20人之间"},model:{value:e.ruleForm2.name22,callback:function(t){e.$set(e.ruleForm2,"name22",t)},expression:"ruleForm2.name22"}}),e._v("人\r\n                ")],1),e._v(" "),r("el-form-item",{attrs:{label:"红包类型：",prop:"name23"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm2.name23,callback:function(t){e.$set(e.ruleForm2,"name23",t)},expression:"ruleForm2.name23"}},[r("el-option",{attrs:{label:"裂变红包",value:"0"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"红包总金额：",prop:"name24"}},[r("el-input",{staticClass:"w_demo mr10",attrs:{type:"number",placeholder:"红包金额介于1-200之间"},model:{value:e.ruleForm2.name24,callback:function(t){e.$set(e.ruleForm2,"name24",t)},expression:"ruleForm2.name24"}}),e._v("元\r\n                ")],1),e._v(" "),r("el-form-item",{attrs:{label:"红包祝福语：",prop:"name25"}},[r("el-input",{staticClass:"w_demo",attrs:{type:"textarea",rows:3,placeholder:"请输入红包祝福语"},model:{value:e.ruleForm2.name25,callback:function(t){e.$set(e.ruleForm2,"name25",t)},expression:"ruleForm2.name25"}})],1)],1)],1),e._v(" "),r("gt-Fans-detail",{attrs:{fansKey:e.key+"",visible:e.dialogFans},on:{getFansData:e.getFansData}}),e._v(" "),5==e.active?r("div",{staticClass:"gt-content complete"},[r("div",{staticClass:"addOk"},[r("div",{staticClass:"el-icon-circle-check green",staticStyle:{"font-size":"40px"}}),e._v(" "),r("div",{staticClass:"complete-info"},[e._v("活动添加成功")]),e._v(" "),r("el-button",{staticClass:"mt80",attrs:{type:"primary"},on:{click:function(t){e.backUrl()}}},[e._v("返回活动列表")])],1)]):e._e(),e._v(" "),r("div",{staticClass:"h80"}),e._v(" "),5!=this.active?r("div",{staticClass:"btnRow"},[0!=this.active?r("el-button",{on:{click:function(t){e.upStep()}}},[e._v("上一步")]):e._e(),e._v(" "),0==this.active?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm1")}}},[e._v("下一步1")]):e._e(),e._v(" "),1==this.active?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm2")}}},[e._v("下一步2")]):e._e(),e._v(" "),2==this.active?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm3")}}},[e._v("下一步3")]):e._e(),e._v(" "),3==this.active?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.lastStep()}}},[e._v("保存")]):e._e(),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("打印")])],1):e._e()],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"gt-gray-region",staticStyle:{color:"#666","line-height":"20px"}},[t("p",[this._v("1.每分钟发放红包数量不得超过1800个。")]),this._v(" "),t("p",[this._v("2.北京时间0:00-8:00不可赠送红包。")]),this._v(" "),t("p",[this._v("3.裂变组合钟的每个红包平均金额介于[1.00元至200.00元]之间。")]),this._v(" "),t("p",[this._v("4.该功能必须要上传p12整数和支付秘钥（如果还没上传p12证书请先到"),t("a",{staticStyle:{color:"#20a0ff"},attrs:{target:"_blank",href:"http://weixin.qq.com/"}},[this._v("weixin.qq.com")]),this._v("平台下载）。")]),this._v(" "),t("p",[this._v("5.其中指定一位粉丝项的微信用户必须要绑定银行卡，否则会发送失败。")]),this._v(" "),t("p",[this._v("6.发放总人数不能少于3人，不能多于20人。")])])}]},n=r("VU/8")(l,i,!1,null,null,null);t.default=n.exports}});
webpackJsonp([14],{"0wGf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("bOdI"),i=a.n(r),l={data:function(){return{active:1,dialogFans:!0,keyWord:"",fansData:{data:[{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"哈哈",sex:1,city:"珠海",time:1513008e6,group:"未分组"},{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"啊few",sex:0,city:"广州",time:1513008e6,group:"未分组"},{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"各位范围",sex:1,city:"湛江",time:1513008e6,group:"未分组"},{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"热热热",sex:0,city:"广州",time:1513008e6,group:"未分组"},{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"好好好日",sex:0,city:"广州",time:1513008e6,group:"未分组"},{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"呃呃呃",sex:1,city:"北京",time:1513008e6,group:"未分组"},{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"蒙多多",sex:0,city:"广州",time:1513008e6,group:"未分组"},{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"寄交接",sex:0,city:"广州",time:1513008e6,group:"未分组"},{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"用用",sex:1,city:"珠海",time:1513008e6,group:"未分组"},{photo:"http://maint.deeptel.com.cn/upload//image/3/gt123/3/20171208/939131F19C762122A62B663A81315559.jpg",name:"天天",sex:1,city:"广州",time:1513008e6,group:"未分组"}],page:{totalNums:31,totalPages:4}},prizeData:[],ruleForm1:{name:"",name1:"",desc:""},rules1:{name:[{required:!0,message:"商户名称不能为空",trigger:"blur"}],name1:[{required:!0,message:"活动名称不能为空",trigger:"blur"}]},ruleForm2:{name21:"",name22:"",name23:""},rules2:{name21:[{required:!0,type:"array",message:"请选择指定粉丝",trigger:"blur"}],name22:[{required:!0,type:"number",validator:function(e,t,a){var r=window.parseInt(t);r?r<3||r>20?a(new Error("发放总人数设置在3-20人之间，请重填")):a():a(new Error("发放总人数不能为空"))},trigger:"blur,change"}],name23:[{required:!0,message:"请选择红包类型",trigger:"blur"}],name24:[{required:!0,type:"number",validator:function(e,t,a){var r=window.parseInt(t);r?r<1||r>200?a(new Error("红包金额介于1-200之间，请重填")):a():a(new Error("红包金额不能为空"))},trigger:"blur,change"}],name25:[{required:!0,message:"红包祝福语不能为空",trigger:"blur"}]}}},methods:{delPrize:function(e){this.prizeData.splice(e,1)},prizeBtn:function(){this.dialogFans=!0},handleSelectionChange:function(e){this.prizeData=e},prizeSubmit:function(){for(var e=[],t=0;t<this.prizeData.length;t++){var a={name:this.prizeData[t].name};e.push(a.name)}this.ruleForm2.name21=e+"",this.dialogFans=!1},handleCurrentChange:function(){console.log(123)},test:function(){console.log(123)},upStep:function(){this.active--},next:function(e){var t=this;this.$refs[e].validate(function(e){e?t.active++:console.log("error submit!!")})},lastStep:function(){for(var e=0;e<this.ruleForm4.length;e++){var t=/^[1-9]\d*$/;if(!this.ruleForm4[e].name1|!this.ruleForm4[e].name2|!this.ruleForm4[e].name3|!this.ruleForm4[e].name4)return this.$message.error("表单不能留空，请填写完整~"),!1;if(!t.test(this.ruleForm4[e].name1))return this.$message.error("奖品数额填写有误，请重新填写~"),!1;if(!t.test(this.ruleForm4[e].name3))return this.$message.error("奖项数量填写有误，请重新填写~"),!1;this.ruleForm4[e].name4=parseFloat(this.ruleForm4[e].name4).toFixed(2),this.submit()}},submit:function(){for(var e=[],t=0;t<this.ruleForm4.length;t++){var a,r=(a={name0:this.ruleForm4[t].name0,name1:this.ruleForm4[t].name1},i()(a,"name1",this.ruleForm4[t].name1),i()(a,"name3",this.ruleForm4[t].name3),i()(a,"name4",this.ruleForm4[t].name4),a);e.push(r)}var l={name1:this.ruleForm1.name,name2:this.ruleForm1.name1,name3:this.ruleForm1.endTime,name4:this.ruleForm1.resource,name5:this.ruleForm1.desc,name15:this.ruleForm1.music,name6:this.ruleForm2.cishu,name7:this.ruleForm2.zongshu,name8:this.ruleForm2.desc,name9:this.ruleForm3.days,name10:this.ruleForm3.dizhi,name11:this.ruleForm3.tishi,name12:this.ruleForm3.xuzhi,name13:this.awardKey,name14:e};console.log(l,123)},backUrl:function(){window.history.go(-1)}},mounted:function(){},filters:{sexStatus:function(e){return 0==e?e="女":1==e&&(e="男"),e}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"hd-common redpack"},[a("el-breadcrumb",{staticClass:"gt-crumbs",attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("互动游戏")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/redpachetFly/index"}}},[e._v("让红包飞")]),e._v(" "),a("el-breadcrumb-item",[e._v("创建活动")])],1),e._v(" "),a("div",{staticClass:"gt-content"},[a("el-steps",{staticClass:"bbtom pb20",attrs:{active:e.active,center:!0,"align-center":!0}},[a("el-step",{attrs:{title:"基础设置"}}),e._v(" "),a("el-step",{attrs:{title:"规则设置"}}),e._v(" "),a("el-step",{attrs:{title:"新建完成"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==this.active,expression:"this.active==0"}],staticClass:"mt40"},[a("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules1,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商户名称：",prop:"name"}},[a("el-input",{staticClass:"w_demo",model:{value:e.ruleForm1.name,callback:function(t){e.$set(e.ruleForm1,"name",t)},expression:"ruleForm1.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动名称：",prop:"name1"}},[a("el-date-picker",{staticClass:"w_demo",attrs:{placeholder:"请输入活动名称"},model:{value:e.ruleForm1.name1,callback:function(t){e.$set(e.ruleForm1,"name1",t)},expression:"ruleForm1.name1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动说明：",prop:"desc"}},[a("el-input",{staticClass:"w_demo",attrs:{type:"textarea",rows:3,placeholder:"请输入活动说明"},model:{value:e.ruleForm1.desc,callback:function(t){e.$set(e.ruleForm1,"desc",t)},expression:"ruleForm1.desc"}}),e._v(" "),a("span",{staticClass:"el-upload__tip grey"},[e._v("\r\n                        描述活动详情，能让粉丝了解此次活动\r\n                    ")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==this.active,expression:"this.active==1"}],staticClass:"mt40"},[e._m(0),e._v(" "),a("el-form",{ref:"ruleForm2",staticClass:"mt40 demo-ruleForm",attrs:{model:e.ruleForm2,rules:e.rules2,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"指定粉丝：",prop:"name21"}},[a("el-input",{staticClass:"w_demo",attrs:{placeholder:"请选择粉丝"},model:{value:e.ruleForm2.name21,callback:function(t){e.$set(e.ruleForm2,"name21",t)},expression:"ruleForm2.name21"}}),e._v(" "),a("span",{staticClass:"ml10"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.prizeBtn()}}},[e._v("选择粉丝")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发放总人数：",prop:"name22"}},[a("el-input",{staticClass:"w_demo mr10",attrs:{type:"number",placeholder:"发放总人数设置在3-20人之间"},model:{value:e.ruleForm2.name22,callback:function(t){e.$set(e.ruleForm2,"name22",t)},expression:"ruleForm2.name22"}}),e._v("人\r\n                ")],1),e._v(" "),a("el-form-item",{attrs:{label:"红包类型：",prop:"name23"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm2.name23,callback:function(t){e.$set(e.ruleForm2,"name23",t)},expression:"ruleForm2.name23"}},[a("el-option",{attrs:{label:"裂变红包",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"红包总金额：",prop:"name24"}},[a("el-input",{staticClass:"w_demo mr10",attrs:{type:"number",placeholder:"红包金额介于1-200之间"},model:{value:e.ruleForm2.name24,callback:function(t){e.$set(e.ruleForm2,"name24",t)},expression:"ruleForm2.name24"}}),e._v("元\r\n                ")],1),e._v(" "),a("el-form-item",{attrs:{label:"红包祝福语：",prop:"name25"}},[a("el-input",{staticClass:"w_demo",attrs:{type:"textarea",rows:3,placeholder:"请输入红包祝福语"},model:{value:e.ruleForm2.name25,callback:function(t){e.$set(e.ruleForm2,"name25",t)},expression:"ruleForm2.name25"}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"粉丝列表",visible:e.dialogFans},on:{"update:visible":function(t){e.dialogFans=t}}},[a("div",{staticClass:"mb10"},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入昵称",icon:"search"},on:{change:function(t){e.test()}},model:{value:e.keyWord,callback:function(t){e.keyWord=t},expression:"keyWord"}})],1),e._v(" "),a("div",{staticStyle:{width:"100%",height:"500px"}},[a("div",{staticStyle:{width:"75%",float:"left"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.fansData.data,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{label:"头像",prop:"photo"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.row.photo}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"昵称",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别",prop:"sex"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("sexStatus")(t.row.sex,t.row.sex)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"所在城市",prop:"city"}}),e._v(" "),a("el-table-column",{attrs:{label:"关注时间",prop:"time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("parseTime")(t.row.time,"{y}-{m}-{d}")))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"组别",prop:"group"}})],1),e._v(" "),a("div",{staticClass:"public-page-fr"},[a("el-pagination",{attrs:{"page-size":10,layout:"prev, pager, next, jumper",total:e.fansData.page.totalNums},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{staticClass:"h20"})],1),e._v(" "),a("div",{staticStyle:{width:"24%",float:"right",height:"550px",background:"#f2f2f2",border:"1px solid #dfe6ec"}},[a("div",{staticStyle:{height:"40px","line-height":"40px",background:"#EEF1F6","padding-left":"10px","border-bottom":"1px solid #dfe6ec"}},[e._v("\r\n          已选择："+e._s(this.prizeData.length)+"\r\n        ")]),e._v(" "),e._l(e.prizeData,function(t,r){return a("div",{staticClass:"prizeItem"},[a("p",{staticStyle:{width:"100%"}}),a("div",{staticClass:"prizeName"},[e._v("\r\n                  "+e._s(t.name)+" \r\n                ")]),e._v(" "),a("span",{staticClass:"blueee mr10 pull-right mt20",on:{click:function(t){e.delPrize(r)}}},[e._v("删除")]),e._v(" "),a("p")])})],2)]),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("div",{staticClass:"h20"}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFans=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.prizeSubmit()}}},[e._v("确 定")])],1)])]),e._v(" "),5==e.active?a("div",{staticClass:"gt-content complete"},[a("div",{staticClass:"addOk"},[a("div",{staticClass:"el-icon-circle-check green",staticStyle:{"font-size":"40px"}}),e._v(" "),a("div",{staticClass:"complete-info"},[e._v("活动添加成功")]),e._v(" "),a("el-button",{staticClass:"mt80",attrs:{type:"primary"},on:{click:function(t){e.backUrl()}}},[e._v("返回活动列表")])],1)]):e._e(),e._v(" "),a("div",{staticClass:"h80"}),e._v(" "),5!=this.active?a("div",{staticClass:"btnRow"},[0!=this.active?a("el-button",{on:{click:function(t){e.upStep()}}},[e._v("上一步")]):e._e(),e._v(" "),0==this.active?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm1")}}},[e._v("下一步1")]):e._e(),e._v(" "),1==this.active?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm2")}}},[e._v("下一步2")]):e._e(),e._v(" "),2==this.active?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.next("ruleForm3")}}},[e._v("下一步3")]):e._e(),e._v(" "),3==this.active?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.lastStep()}}},[e._v("保存")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("打印")])],1):e._e()],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"gt-gray-region",staticStyle:{color:"#666","line-height":"20px"}},[t("p",[this._v("1.每分钟发放红包数量不得超过1800个。")]),this._v(" "),t("p",[this._v("2.北京时间0:00-8:00不可赠送红包。")]),this._v(" "),t("p",[this._v("3.裂变组合钟的每个红包平均金额介于[1.00元至200.00元]之间。")]),this._v(" "),t("p",[this._v("4.该功能必须要上传p12整数和支付秘钥（如果还没上传p12证书请先到"),t("a",{staticStyle:{color:"#20a0ff"},attrs:{target:"_blank",href:"http://weixin.qq.com/"}},[this._v("weixin.qq.com")]),this._v("平台下载）。")]),this._v(" "),t("p",[this._v("5.其中指定一位粉丝项的微信用户必须要绑定银行卡，否则会发送失败。")]),this._v(" "),t("p",[this._v("6.发放总人数不能少于3人，不能多于20人。")])])}]};var o=a("VU/8")(l,s,!1,function(e){a("LMEj")},null,null);t.default=o.exports},LMEj:function(e,t){}});